<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Person Management System</title>
</head>
</head>
<body>
  <h1>Person Management System</h1>
    <h2>Person List</h2>
<hr>
  <a th:href="@{/newPersonForm}">ADD NEW PERSON</a>
    <p th:if="${listOfPersons.size() < 1}">
    <span>There's no employees</span>
    </p>
<hr>

  <table th:unless="${listOfPersons.size() < 1}">
    <th>First Name</th>
    <th>Last Name</th>
    <th>Age</th>
    <th>Address</th>
    <th>Employee Number</th>
    <th>Actions</th>
    </thead>
    <tbody>
    <tr th:each="person : ${listOfPersons}">
      <td th:text="${person.firstName}"></td>
      <td th:text="${person.lastName}"></td>
      <td th:text="${person.age}"></td>
      <td th:text="${person.address}"></td>
      <td th:text="${person.employee}"></td>
      <td>
        <a th:href="@{/updatePersonForm/{id}(id=${person.id})}">Update</a>

        <a th:data-confirm-delete="|Are you sure you want to delete this person ${person.firstName}?|"
           onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false"
           th:href="@{/deletePersonForm/{id}(id=${person.id})}">Delete</a>

        <a th:href="@{/newEmployee/{id}(id=${person.id})}">Make an employee</a>
      </td>
    </tr>
    </tbody>
  </table>
<hr>
  <a th:href="@{/homeEmployee}">Go to Employee List</a>
</body>
<hr>
<p>© 2022 Mušketiri</p>
<hr>
</html>